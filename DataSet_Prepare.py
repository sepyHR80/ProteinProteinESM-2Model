# -*- coding: utf-8 -*-
"""Untitled46.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1FmyofPq76mELNRvHsQQczdzt4kwAdBtw
"""

import pandas as pd
import numpy as np

df = pd.read_csv("output1.csv")

df

first_column = df.iloc[:, 0]
first_column

drop_columns = ["Alt. ID interactor A", "Alt. ID interactor B", "Alias(es) interactor A", "Alias(es) interactor B", "Publication 1st author(s)", "Unnamed: 16","SS"]

df = df.drop(drop_columns, axis=1)

def process_column(df, column_name):
    df[column_name] = df[column_name].str.split('|', n=1).str[0]
    return df

df = process_column(df, "ID interactor A")

df

df = process_column(df, "ID interactor B")
df

import requests
def fetch_ncbi_refseq_sequence(refseq_id: str) -> str :

  url = "https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi"
  params = {
        "db": "protein",
        "id": refseq_id,
        "rettype": "fasta",
        "retmode": "text"
  }

  response = requests.get(url, params = params)
  if response.status_code != 200:
    print(refseq_id,a)
    raise ValueError(f"Error fetching sequence from NCBI: {response.status_code}")

  fasta_data = response.text
  lines = fasta_data.splitlines()
  sequence = "".join(line.strip() for line in lines if not line.startswith(">"))
  return sequence

fetch_ncbi_refseq_sequence('DIP-1025N')

df["ID interactor A"] = df["ID interactor A"].apply(fetch_ncbi_refseq_sequence)

